### 建表

#### 掘进基本信息——表`mining_basic_info`

---

配置基本信息。

* 【配置时间】：`updatetime`，类型`datetime`

* 【总里程】：`mining_locx_total `，类型`float`

* 【起始里程】：`mining_locx_start`，类型`float`

  `locInfo`初始化记录。

  计算通道坐标。

* 【掘进方向】：`mining_dir`，类型`tinyint`

  `e_mining_PCOLocParm`中`mining_dir`字段。

* 【掘进班数】：`mining_shifts_num`，类型`tinyint(3)`

* 【单班时长】：`shift_duration`，类型`tinyint(3)`

```cpp

```

#### 掘进班次基本信息——表`mining_shift_info`

---

* 【班次号】：`shift_id`，类型：`varchar`
* 【起始时间】：`shift_start_time`，类型`datetime`
* 【截止时间】：`shift_end_time`，类型`datetime`
* 【班次名称】：`shift_name`，类型`varchar`
* 【设置时间】：`updatetime`，类型`datetime`

```mysql

```

#### 观测系统基本信息——表`observation_system_info`

---

* 【布置方式】：`system_type_id`，类型：`int`（0—巷道式，1-机载式，...）

  > 【布置方式类型表】：`observation_system_type`
>
  > * 【布置方式id】：`type_id`，类型`tinyint(3)`
  > * 【布置方式】：`type`，类型`varchar(30)`（巷道式，机载式，...）

* 【观测模式】：`observation_mode_id`，类型`int`（0-单巷，1-双巷，2-多巷）】

  > 【观测模式类型表】：`observation_mode_type`
  >
  > * 【观测模式id】：`type_id`，类型`tinyint(3)`
  > * 【观测模式类型】：`type`，类型`varchar(30)`

* 【通道顺序】：`chn_order_type`，类型`tinyint(3)`（0-常规，1-非常规）

* 【最小偏移距】：`heading_mil_lower_limit`，类型`float`

  偏移距提醒。

* 【最大偏移距】：`heading_mil_upper_limit`，类型`float`

```mysql

```

#### 里程信息——表`e_tunnel_locInfo`

---

* 新建字段：【操作时间】：`updatetime`，类型`datetime(4)`。原来的`tmstamp`作为【里程时间】。

  操作时间，用户操作日志。

  里程时间，关联通道历史修改时间。

* 新建字段：【平均日进尺】`avg_day_step`，类型`float`。原来的`day_step`作为【进尺】，类型`float`。

* 新建字段：【现场描述】`description`，类型`varchar`。

  可为空，用户输入文本描述，图片。

  ```mysql
  ALTER TABLE e_tunnel_locInfo ADD COLUMN IF NOT EXISTS `updatetime` DATETIME(4) NOT NULL DEFAULT CURRENT_TIMESTAMP() COMMENT '操作时间:编辑‘里程值’时的时间' AFTER `tmstamp`;
  
  ALTER TABLE e_tunnel_locInfo MODIFY COLUMN `tmstamp` DATETIME(4) COMMENT '里程时间:掘进至‘里程值’时的时间';
  
  ALTER TABLE e_tunnel_locInfo MODIFY COLUMN `day_step` float COMMENT '进尺(m)';
  
  ALTER TABLE e_tunnel_locInfo ADD COLUMN IF NOT EXISTS `day_step_avg` float COMMENT '平均日进尺(m)' AFTER `day_step`;
  
  ALTER TABLE e_tunnel_locInfo ADD COLUMN IF NOT EXISTS `description` varchar(100) COMMENT '现场描述';
  ```

#### 监测基本信息——表`observation_info`

---

* 【应用类型】：`application_id`，类型`tinyint`（3）（0-偏移成像，1-频谱成像...2-速度曲线）

* 【应用标记】：`apply_location_id`，类型`tinyint(3)`（0-前方ahead，1-左帮LEFT_WALL，2-右帮RIGHT_WALL，3-顶板ROOF，4-底板ROOF）

  探测方向。

* 【监测深度】：`observation_depth`，类型`float`。超前探测距离(m)

* 【监测宽度】：`observation_width`，类型`float`。侧帮距离(m)

* 【监测高度】：`observation_height`，类型`float`。顶底板距离(m)

```mysql

```

#### 预测基本信息——表`forecast_info`

---

* 【更新时间】：`updatetime`，类型`datetime`
* 【超前预测最小距离】：`advance_forecast_distance_lower_limit`，类型`float`
* 【超前预测最大距离】：`advance_forecast_distance_upper_limit`，类型`float`
* 【预测频度标记】：`forecast_freq_type_id`，类型`tinyint(3)`（0-时间，1-距离，2-时间+距离）
* 【时间频度】：`time_freq`，类型`float`。单位min
* 【距离频度】：`distance_freq`，类型`float`。单位m

```mysql
```

